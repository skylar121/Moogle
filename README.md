# ğŸ¬ Moogle, ì„¸ìƒì˜ ëª¨ë“  ì˜í™” ğŸ¬

![image](https://user-images.githubusercontent.com/100753588/205097355-6f5b5358-66f5-4355-97b8-601f6e24aa8e.png)

## 1ï¸. í”„ë¡œì íŠ¸ ê°œìš”
- Moogleì€ TMDB APIë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤ ğŸ¥
  1) ì˜í™” ì •ë³´ ê²€ìƒ‰ ë° ì¡°íšŒ
  2) ì˜í™” ì¶”ì²œ (ìœ ì € ì¢‹ì•„ìš” ê¸°ë°˜, í˜„ì¬ ìƒì˜ì¤‘, ì¥ë¥´ë³„)
  3) ì˜í™”ì— ëŒ€í•œ ë¦¬ë·° ì‘ì„± ë° ì¢‹ì•„ìš” ë‚¨ê¸°ê¸°
  4) ìœ ì €ê°„ íŒ”ë¡œìš° ê¸°ëŠ¥, ë¦¬ë·° ëŒ“ê¸€ ì‘ì„± ë“±ì„ í†µí•´ ë‹¤ë¥¸ ìœ ì €ë“¤ê³¼ë„ ì†Œí†µí•  ìˆ˜ ìˆëŠ” ì˜í™” ì»¤ë®¤ë‹ˆí‹°


## 2. ê¸°ìˆ  ìŠ¤íƒ
- Front-End
  : HTML, CSS, SCSS, Bootstrap, JavaScript, Vue, Vuex

- Back-End
  : Django, Python, SQLite

## 3. íŒ€ êµ¬ì„±
- ê°œë°œ ì¼ì • : 11/16 ~ 11/24
- ì—­í•  ë¶„ë‹´

| [**ê¹€ê²½ë¦¼**](https://github.com/skylar121 "ê¹€ê²½ë¦¼ì˜ GitHub") | [**ë¥˜íƒœê·œ**](https://github.com/estar1996 "ë¥˜íƒœê·œì˜ GitHub") |   [**ì •íš¨ìƒ**](https://github.com/Hyormone "ì •íš¨ìƒì˜ GitHub")   |
| :--------------: | :------------------: | :-----------------: |
| Vue, JavaScript, Django, Python |   Django, Python |   Vue, JavaScript, Django, Python   |
| ![FrontEnd](https://img.shields.io/badge/FrontEnd-4A06F)![BackEnd](https://img.shields.io/badge/BackEnd-0C4B33)|  ![BackEnd](https://img.shields.io/badge/BackEnd-0C4B33) | ![FrontEnd](https://img.shields.io/badge/FrontEnd-4A06F)![BackEnd](https://img.shields.io/badge/BackEnd-0C4B33) |


## 4. í”„ë¡œì íŠ¸ êµ¬ì¡°
- front
```
ğŸ“¦final-pjt-front
â”£ ğŸ“‚public
â”— ğŸ“‚src
  â”£ ğŸ“‚api
  â”£ ğŸ“‚assets
  â”£ ğŸ“‚components
  â”ƒ â”£ ğŸ“‚movie
  â”ƒ â”— ğŸ“‚profile
  â”£ ğŸ“‚plugins
  â”£ ğŸ“‚router
  â”£ ğŸ“‚store
  â”£ ğŸ“‚views
  â”ƒ â”£ ğŸ“‚accounts
  â”ƒ â”£ ğŸ“‚movie
  â”£ ğŸ“œApp.vue
  â”— ğŸ“œmain.js
```
- back
```
ğŸ“¦final-pjt-back
 â”£ ğŸ“‚accounts
 â”£ ğŸ“‚final_pjt
 â”£ ğŸ“‚media
 â”ƒ â”— ğŸ“‚users
 â”£ ğŸ“‚movies
 â”ƒ â”— ğŸ“‚fixtures
 â”£ ğŸ“œdb.sqlite3
 â”— ğŸ“œmanage.py
```

## 5. UI & ì£¼ìš” ê¸°ëŠ¥

| 0. ë©”ì¸ í™”ë©´ |
|----------|
|![main_page](https://user-images.githubusercontent.com/100753588/206238678-3fe39e66-95ad-492e-b084-8f23a0740ecc.gif) <br> - ê¸°ë³¸ í…Œë§ˆ: ì˜í™”ë“¤ì´ ë‹ë³´ì¼ ìˆ˜ ìˆëŠ” ì–´ë‘ìš´ ë°°ê²½ + ë³´ë¼ìƒ‰ ì»¬ëŸ¬ <br> - ë¡œê³ : ë„¤ì˜¨ì‚¬ì¸ì²˜ëŸ¼ ê¹œë¹¡ì´ëŠ” íš¨ê³¼ + ëˆˆì˜ í”¼ë¡œê°ì„ ëœê¸° ìœ„í•´ ì ì‹œ ì‰¬ì–´ê°€ëŠ” ì¸í„°ë²Œ|

| 1. íšŒì›ê°€ì… | 2. ë¡œê·¸ì¸ |
|----------|----------|
|<img src="https://user-images.githubusercontent.com/102273370/205475511-37142ee5-ce40-4042-985e-dc3a3cc62923.gif"> <br> ì˜í™” ê´€ë ¨ ëœë¤ ì´ë¯¸ì§€ ë°°ê²½ | <img src="https://user-images.githubusercontent.com/102273370/205475537-b1429a98-bdc7-400a-bd39-cab80a1b6bc0.gif"> <br> ì˜í™” ê´€ë ¨ ëœë¤ ì´ë¯¸ì§€ ë°°ê²½  |

| 3. ë¡œê·¸ì•„ì›ƒ                                                  | 4. ì˜í™”ì¶”ì²œ (ë¡œê·¸ì¸ X)                                       |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| <img src="https://user-images.githubusercontent.com/102273370/205497331-1f4a09c1-85bd-444e-8436-6a60b2fcc7e9.gif"> | <img src="https://user-images.githubusercontent.com/102273370/205497831-151785d9-970e-44a6-9848-b6f193d6fe42.gif"> <br> ë¡œê·¸ì¸ ì•ˆí–ˆì„ ì‹œ í˜„ì¬ ì¸ê¸° ìˆëŠ” ì˜í™” ì¶”ì²œ + ê¸°ë³¸ ë¬¸êµ¬ (ë‹¹ì‹ ë§Œì˜ ì˜í™”ì¶”ì²œì„ ë³´ê³ ì‹¶ë‹¤ë©´ ë¡œê·¸ì¸) |

| 3-1. ì˜í™”ì¶”ì²œ (ë¡œê·¸ì¸ O, ì¢‹ì•„ìš” X) | 3-2. ì˜í™”ì¶”ì²œ (ë¡œê·¸ì¸ O, ì¢‹ì•„ìš” O) |
|----------|----------|
| <img src="https://user-images.githubusercontent.com/102273370/205498032-5b2b1db7-5462-45cc-a167-6af41d0d6031.gif"> <br> ë¡œê·¸ì¸ í–ˆìœ¼ë‚˜ ì¢‹ì•„ìš” í•œ ì˜í™”ê°€ ì—†ì„ ê²½ìš° ì¢‹ì•„ìš” ìœ ë„ ë¬¸êµ¬ | <img src="https://user-images.githubusercontent.com/102273370/205498154-2e901669-7ad3-4b2d-86fd-70e61c13c0a0.gif"> <br> ë¡œê·¸ì¸ ì™„ë£Œ + ì¢‹ì•„ìš” í•œ ì˜í™”ê°€ 1ê°œ ì´ìƒì¼ ê²½ìš° ë§ì¶¤ ì˜í™” ì¶”ì²œ|

| 4. í˜„ì¬ ìƒì˜ì¤‘, ì•¡ì…˜, ë¡œë§¨ìŠ¤ ì˜í™” ì¶”ì²œ | 5. ì˜í™” ìƒì„¸ ì •ë³´ |
|----------|----------|
| <img src="https://user-images.githubusercontent.com/102273370/205498344-98fd85cc-77e7-4563-a820-22b922930288.gif"> | ![ezgif com-gif-maker (1)](https://user-images.githubusercontent.com/100753588/206248179-c3530317-c180-41e4-b68d-5ebe4c6199ae.gif) <br> - ì¤„ê±°ë¦¬, ì¥ë¥´, ë³„ì , ê°ë…, ë°°ìš° ë“± ìƒì„¸ ì •ë³´ ì œê³µ <br> - ë¹„ìŠ·í•œ ì˜í™” ì¶”ì²œ ì œê³µ |

| 6. ì˜í™” ì¢‹ì•„ìš” (ë¡œê·¸ì¸ í•„ìš”) | 7. ì˜í™” ë¦¬ë·° ì‘ì„± |
|----------|----------|
| <img src="https://user-images.githubusercontent.com/102273370/205498452-2d4b40b0-f1db-4cc0-bf20-c9d216508b9f.gif"> | <img src="https://user-images.githubusercontent.com/102273370/205498511-13f7ce24-5be1-45aa-9951-fc6d001b2ab3.gif"> |

| 8. ì˜í™” ë¦¬ë·° ìˆ˜ì •, ì‚­ì œ | 9. ì˜í™” ë¦¬ë·° ì¢‹ì•„ìš” ë° ëŒ“ê¸€ |
|----------|----------|
| ![review_fix](https://user-images.githubusercontent.com/100753588/208350642-e0ceca07-6566-48bf-850f-dd0bf599fbab.gif) | <img src="https://user-images.githubusercontent.com/102273370/205498601-fd2158e5-746d-4550-8dd0-1b16a0fd0244.gif"> |

| 10. ìœ ì € í”„ë¡œí•„ (íŒ”ë¡œìš°, ë¦¬ë·°, ì¢‹ì•„ìš”, ë­í‚¹) | 11. ìœ ì €ê°„ íŒ”ë¡œìš°, ì–¸íŒ”ë¡œìš° |
|----------|----------|
| <img src="https://user-images.githubusercontent.com/102273370/205498897-9a76f1e2-6b06-4de2-b269-1adab7e82845.gif"><br> - ì¢‹ì•„ìš” ê¸°ë°˜ ì¶”ì²œì„ ë”ìš± ê°•í™”í•˜ê¸° ìœ„í•´ ì¢‹ì•„ìš” ê°œìˆ˜ì— ë”°ë¥¸ ë­í‚¹ ì‹œìŠ¤í…œ ë„ì… | ![follow](https://user-images.githubusercontent.com/100753588/208350792-e3b981f9-c40a-4398-a34b-678eaa79c989.gif)
 |

## 6. ì£¼ìš” ê¸°ëŠ¥ ì½”ë“œ
<details>
<summary>ì„ íƒí•œ ì˜í™”ê°€ DBì— ìˆë‹¤ë©´ DB ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°, ì—†ë‹¤ë©´ DB ì €ì¥í›„ í•´ë‹¹ ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°</summary>
<div markdown="1">

```javascript
getMovieDetail() {
  // ë¨¼ì € DBì— ìˆëŠ”ì§€ í™•ì¸
  axios({
    method: 'get',
    url: API_URL + `/movies/${this.$route.params.movie_id}/`,
  })
  .then((res) => {
    this.movie = res.data
  })
  .catch((error) => {
    console.log(error)

    // DBì— ì—†ìœ¼ë©´ TMDBì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ DBì— ì €ì¥
    axios({
      method: 'get',
      url: API_URL + `/movies/${this.$route.params.movie_id}/`,
      data: {
        id: this.$route.params.movie_id,
      }
    })
      .then((response) => {
        console.log(response)
      })
      .catch((error) => {
        console.log(error)
      })
  })
},
```

</div>
</details>

<br>

<details>
<summary>ìœ ì € ì¢‹ì•„ìš” ê¸°ë°˜ ì˜í™” ì¶”ì²œ</summary>
<div markdown="1">

```python
@api_view(['GET'])
def recommend(request,user_pk):
    print(request)
    file_path = "movies/fixtures/movies.json"

    with open(file_path, 'r', encoding="UTF-8") as f:
        data = json.load(f)
    new_data = []
    for d in data:
        new_data.append({
            'pk': d['pk'],
            'adult': d['fields']['adult'],
            'overview': d['fields']['overview'],
            'title': d['fields']['title'],
            'poster_path': d['fields']['poster_path'],
            'genres': d['fields']['genres'],
            'vote_average': d['fields']['vote_average'],
        })

    new_data = pd.DataFrame(new_data)

    new_data['overview'].isnull().sum()
    new_data['overview'] = new_data['overview'].fillna('')
    new_data['overview'].isnull().sum() #0 ìœ¼ë¡œ ë°”ë€œ ë‚´ì í•˜ë©´ ëª¨ë‘ 0 ë‚˜ì˜´

    tfidf=TfidfVectorizer(stop_words='english') #ë¶ˆìš©ì–´ ì œê±°
    tfidf_mat=tfidf.fit_transform(new_data['overview']).toarray()

    def cos_sim2(X,Y):
        return np.dot(X,Y)/((norm(X)*norm(Y))+1e-7)

    def top_match_ar2(new_data, name, rank=5,simf=cos_sim2):
        sim=[]
        for i in range(len(new_data)):
            if name != i:
                sim.append((simf(new_data[i],new_data[name]),i))
        sim.sort()
        sim.reverse()
        return sim[:rank]

    
    user = get_object_or_404(get_user_model(),pk = user_pk)
    lst1 = list(user.like_movies.all().values())    # ì¢‹ì•„ìš” ëˆ„ë¥¸ ì˜í™” ë¦¬ìŠ¤íŠ¸
    lst = []    # ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸
    movieList = []

    if len(lst1) >= 3:                      # ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ì˜í™”ê°€ 3ê°œ ì´ìƒì¼ ê²½ìš°
        for elt in lst1:
            lst.append(elt['title'])
    else:                                   # ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ì˜í™”ê°€ 3ê°œ ë¯¸ë§Œì¼ ê²½ìš°
        lst1.append(list(Movie.objects.all().values),3 )
        for elt in lst1:
            lst.append(elt['title'])                        
        
    movieList = random.sample(lst,3)
    recommend_lst = set()
    res_list = []
    for movie_name in movieList:
        # ì—¬ê¸°ì— ì˜í™” ì´ë¦„ ë™ì ìœ¼ë¡œ í• ë‹¹
        movie_idx = list(new_data['title']).index(movie_name)
        for sim, movie_id in top_match_ar2(tfidf_mat, movie_idx ,20):
            res_list.append(str({'id': new_data.loc[movie_id,'pk'], 'title' :new_data.loc[movie_id,'title'], 'poster_path' :new_data.loc[movie_id,'poster_path'], 'vote_average' :new_data.loc[movie_id,'vote_average']}))
        for res in res_list[:30]:
            recommend_lst.add(res)
    result = []
    for i in recommend_lst:
        i = eval(i)
        result.append(i)
    return Response(result)
```

</div>
</details>

## 7. ê°œë°œ ì´ìŠˆ ë° íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
- ë§¤ì¼ë§¤ì¼ ê°œë°œ ì¼ì§€ë¥¼ ì‘ì„±í•˜ë©° ì´ìŠˆì— ëŒ€í•œ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ë„ í•¨ê»˜ ê¸°ë¡í•˜ì˜€ìŠµë‹ˆë‹¤.

<details>
<summary>íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì˜ˆì‹œ</summary>
<div markdown="1">

![image](https://user-images.githubusercontent.com/100753588/206229424-aa72e191-a82c-48e4-a4f4-12a5e64b7036.png)

</div>
</details>

![image](https://user-images.githubusercontent.com/100753588/205088816-9b5347e8-8f48-4b45-aaf6-35d1bbfd6fcd.png)


## 8. í”„ë¡œì íŠ¸ë¥¼ ë§ˆì¹˜ë©°
### ê¹€ê²½ë¦¼
**ë°°ìš´ ì **
1. ì•±ì˜ ëª¨ë“  ê¸°ëŠ¥, ë””ìì¸, ì»´í¬ë„ŒíŠ¸ í•˜ë‚˜í•˜ë‚˜ ì§ì ‘ ë‹´ë‹¹í•˜ì—¬ ì„¤ê³„í•˜ê³  êµ¬í˜„í•´ë³´ê²Œ ë˜ì–´ ë¿Œë“¯í–ˆë‹¤.
2. í”„ë¡ íŠ¸ì—”ë“œ, ë°±ì—”ë“œë¥¼ í•¨ê»˜ ê¸°íší•˜ê³  êµ¬í˜„í•˜ëŠ” ê²½í—˜
3. í˜‘ì—…ì‹œì—ëŠ” ì„œë¡œ ê¸°ë³¸ ìš©ì–´ì— ëŒ€í•´ ë™ì¼í•˜ê²Œ ì •ì˜í•˜ê³  ìƒê°í•˜ê³  ìˆëŠ”ì§€ë¶€í„° ì ê²€í•´ì•¼ ì†Œí†µì´ ë³´ë‹¤ ì‰¬ì›Œì§„ë‹¤ëŠ” ê²ƒì„ ì¬í™•ì¸í•˜ì˜€ë‹¤. (ì•Œê³ ë³´ë©´ ì„œë¡œ ê°™ì€ ì´ì•¼ê¸°ë¥¼ í•˜ê³  ìˆëŠ” ê²½ìš°ê°€ ë§ë‹¤!)
4. SCSS, Vuex ë“± ì¶”ê°€ì ìœ¼ë¡œ ë„ì…ì´ í•„ìš”í•œ ë¶€ë¶„ì— ëŒ€í•´ ê³ ë¯¼í•´ë³´ê³  ë‹¹ìœ„ì„±ì„ ë”°ì ¸ë³¼ ìˆ˜ ìˆì—ˆë‹¤.
5. ëª¨ë“ˆí™”ì˜ ì¤‘ìš”ì„±, í˜ì´ì§€ë‚˜ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ë¥¼ ì •í™•íˆ ìƒê°í•˜ê³  ì§œëŠ” ê²ƒì˜ ì¤‘ìš”ì„±
   - ì˜ˆìƒì¹˜ ëª»í•˜ê²Œ êµ¬ì¡°ì— ë³€ê²½ì´ í•„ìš”í•  ë•Œ í–ˆë˜ ì¼ì„ ë‹¤ì‹œ í•˜ëŠ” ì‹œê°„ê³¼ ë¹ˆë„ê°€ í˜„ì €í•˜ê²Œ ì¤„ê¸° ë•Œë¬¸ì´ë‹¤.

**ì•„ì‰¬ìš´ ì **
- í”„ë¡œì íŠ¸ ê¸°ê°„ì´ ë„ˆë¬´ ì§§ì•„ git flow, github flow ë“± ë¸Œëœì¹˜ ì „ëµ ë° githubì˜ ì´ìŠˆ ë“± ê¸°ë³¸ ê¸°ëŠ¥ë“¤ì„ í™œìš©í•˜ì§€ ëª»í•œì ì´ ì•„ì‰½ë‹¤.
- ìµœì í™”ë¥¼ ì–´ë–»ê²Œ ë” í• ìˆ˜ ìˆì„ì§€ ì•Œê³ ì‹¶ë‹¤. (Vuexë¡œ ì¤‘ì•™ ì €ì¥ì†Œì—ì„œ ë°ì´í„° ê´€ë¦¬ë¥¼ ì ì ˆí•˜ê²Œ í•œ ê²ƒì¸ì§€, ë¶ˆí•„ìš”í•˜ê²Œ ì¬ë Œë”ë§ì´ ë°œìƒí•œ ë¶€ë¶„ì´ ìˆëŠ”ì§€)
- ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ë¥¼ ë”ìš± ê°œì„ í•˜ê³  ì‹¶ë‹¤.
