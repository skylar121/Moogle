# ğŸ¬ Moogle, ì„¸ìƒì˜ ëª¨ë“  ì˜í™” ğŸ¬

![image](https://user-images.githubusercontent.com/100753588/205097355-6f5b5358-66f5-4355-97b8-601f6e24aa8e.png)

## 1ï¸. í”„ë¡œì íŠ¸ ê°œìš”
- Moogleì€ TMDB APIë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤ ğŸ¥
  1) ì˜í™” ì •ë³´ ê²€ìƒ‰ ë° ì¡°íšŒ
  2) ì˜í™” ì¶”ì²œ (ìœ ì € ì¢‹ì•„ìš” ê¸°ë°˜, í˜„ì¬ ìƒì˜ì¤‘, ì¥ë¥´ë³„)
  3) ì˜í™”ì— ëŒ€í•œ ë¦¬ë·° ì‘ì„± ë° ì¢‹ì•„ìš” ë‚¨ê¸°ê¸°
  4) ìœ ì €ê°„ íŒ”ë¡œìš° ê¸°ëŠ¥, ë¦¬ë·° ëŒ“ê¸€ ì‘ì„± ë“±ì„ í†µí•´ ë‹¤ë¥¸ ìœ ì €ë“¤ê³¼ë„ ì†Œí†µí•  ìˆ˜ ìˆëŠ” ì˜í™” ì»¤ë®¤ë‹ˆí‹°


## 2. ê¸°ìˆ  ìŠ¤íƒ
- Front-End
  : HTML, CSS, SCSS, Bootstrap, JavaScript, Vue, Vuex

- Back-End
  : Django, Python, SQLite

## 3. íŒ€ êµ¬ì„±
- ê°œë°œ ì¼ì • : 11/16 ~ 11/24
- ì—­í•  ë¶„ë‹´

| [**ê¹€ê²½ë¦¼**]([skylar121 (Gyeong Rim Kim) (github.com)](https://github.com/skylar121) "ê¹€ê²½ë¦¼ì˜ GitHub") | [**ë¥˜íƒœê·œ**]([estar1996 (github.com)](https://github.com/estar1996) "ë¥˜íƒœê·œì˜ GitHub") |   [**ì •íš¨ìƒ**]([Hyormone (github.com)](https://github.com/Hyormone) "ì •íš¨ìƒì˜ GitHub")   |
| :--------------: | :------------------: | :-----------------: |
| Vue, JavaScript, <br> Django, Python |   Django, Python |   Vue, JavaScript, <br> Django, Python   |
| ![FrontEnd](https://img.shields.io/badge/FrontEnd-4A06F)![BackEnd](https://img.shields.io/badge/BackEnd-0C4B33)|  ![BackEnd](https://img.shields.io/badge/BackEnd-0C4B33) | ![FrontEnd](https://img.shields.io/badge/FrontEnd-4A06F)![BackEnd](https://img.shields.io/badge/BackEnd-0C4B33) |

<br>



## 4. í”„ë¡œì íŠ¸ êµ¬ì¡°
- front
```
ğŸ“¦final-pjt-front
â”£ ğŸ“‚public
â”— ğŸ“‚src
  â”£ ğŸ“‚api
  â”£ ğŸ“‚assets
  â”£ ğŸ“‚components
  â”ƒ â”£ ğŸ“‚movie
  â”ƒ â”— ğŸ“‚profile
  â”£ ğŸ“‚plugins
  â”£ ğŸ“‚router
  â”£ ğŸ“‚store
  â”£ ğŸ“‚views
  â”ƒ â”£ ğŸ“‚accounts
  â”ƒ â”£ ğŸ“‚movie
  â”£ ğŸ“œApp.vue
  â”— ğŸ“œmain.js
```
- back
```
ğŸ“¦final-pjt-back
 â”£ ğŸ“‚accounts
 â”£ ğŸ“‚final_pjt
 â”£ ğŸ“‚media
 â”ƒ â”— ğŸ“‚users
 â”£ ğŸ“‚movies
 â”ƒ â”— ğŸ“‚fixtures
 â”£ ğŸ“œdb.sqlite3
 â”— ğŸ“œmanage.py
```

## 5. UI & ì£¼ìš” ê¸°ëŠ¥
| 1. íšŒì›ê°€ì… | 2. ë¡œê·¸ì¸ |
|----------|----------|
|<img src="https://user-images.githubusercontent.com/102273370/205475511-37142ee5-ce40-4042-985e-dc3a3cc62923.gif">    | <img src="https://user-images.githubusercontent.com/102273370/205475537-b1429a98-bdc7-400a-bd39-cab80a1b6bc0.gif"> |

| 3. ë¡œê·¸ì•„ì›ƒ                                                  | 4. ì˜í™”ì¶”ì²œ (ë¡œê·¸ì¸ X)                                       |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| <img src="https://user-images.githubusercontent.com/102273370/205497331-1f4a09c1-85bd-444e-8436-6a60b2fcc7e9.gif"> | <img src="https://user-images.githubusercontent.com/102273370/205497831-151785d9-970e-44a6-9848-b6f193d6fe42.gif"> |

| 3-1. ì˜í™”ì¶”ì²œ (ë¡œê·¸ì¸ O, ì¢‹ì•„ìš” X) | 3-2. ì˜í™”ì¶”ì²œ (ë¡œê·¸ì¸ O, ì¢‹ì•„ìš” O) |
|----------|----------|
| <img src="https://user-images.githubusercontent.com/102273370/205498032-5b2b1db7-5462-45cc-a167-6af41d0d6031.gif"> | <img src="https://user-images.githubusercontent.com/102273370/205498154-2e901669-7ad3-4b2d-86fd-70e61c13c0a0.gif"> |

| 4. í˜„ì¬ ìƒì˜ì¤‘, ì•¡ì…˜, ë¡œë§¨ìŠ¤ ì˜í™” ì¶”ì²œ | 5. ì˜í™” ìƒì„¸ ì •ë³´ |
|----------|----------|
| <img src="https://user-images.githubusercontent.com/102273370/205498344-98fd85cc-77e7-4563-a820-22b922930288.gif"> | <img src="https://user-images.githubusercontent.com/102273370/205499415-29a6ab0f-16c3-4a29-b0e3-569d64eeaf9c.gif"> |

| 6. ì˜í™” ì¢‹ì•„ìš” (ë¡œê·¸ì¸ í•„ìš”) | 7. ë¦¬ë·° ì‘ì„± |
|----------|----------|
| <img src="https://user-images.githubusercontent.com/102273370/205498452-2d4b40b0-f1db-4cc0-bf20-c9d216508b9f.gif"> | <img src="https://user-images.githubusercontent.com/102273370/205498511-13f7ce24-5be1-45aa-9951-fc6d001b2ab3.gif"> |

| 8. ë¦¬ë·° ìˆ˜ì •, ì‚­ì œ | 9. ë‹¤ë¥¸ ì‚¬ëŒ ë¦¬ë·° ì¢‹ì•„ìš” ë° ëŒ“ê¸€ |
|----------|----------|
| <img src="https://user-images.githubusercontent.com/102273370/205499463-ffe553b5-38ac-4152-b650-9b4cb4727c9a.gif"> | <img src="https://user-images.githubusercontent.com/102273370/205498601-fd2158e5-746d-4550-8dd0-1b16a0fd0244.gif"> |

| 10. ë§ˆì´ í”„ë¡œí•„ |
|----------|
| <img src="https://user-images.githubusercontent.com/102273370/205498897-9a76f1e2-6b06-4de2-b269-1adab7e82845.gif"> |

## 6. ì£¼ìš” ê¸°ëŠ¥ ì½”ë“œ
<details>
<summary>ì„ íƒí•œ ì˜í™”ê°€ DBì— ìˆë‹¤ë©´ DB ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°, ì—†ë‹¤ë©´ DB ì €ì¥í›„ í•´ë‹¹ ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°</summary>
<div markdown="1">

```javascript
getMovieDetail() {
  // ë¨¼ì € DBì— ìˆëŠ”ì§€ í™•ì¸
  axios({
    method: 'get',
    url: API_URL + `/movies/${this.$route.params.movie_id}/`,
  })
  .then((res) => {
    this.movie = res.data
  })
  .catch((error) => {
    console.log(error)

    // DBì— ì—†ìœ¼ë©´ TMDBì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ DBì— ì €ì¥
    axios({
      method: 'get',
      url: API_URL + `/movies/${this.$route.params.movie_id}/`,
      data: {
        id: this.$route.params.movie_id,
      }
    })
      .then((response) => {
        console.log(response)
      })
      .catch((error) => {
        console.log(error)
      })
  })
},
```

</div>
</details>

<br>

<details>
<summary>ìœ ì € ì¢‹ì•„ìš” ê¸°ë°˜ ì˜í™” ì¶”ì²œ</summary>
<div markdown="1">

```python
@api_view(['GET'])
def recommend(request,user_pk):
    print(request)
    file_path = "movies/fixtures/movies.json"

    with open(file_path, 'r', encoding="UTF-8") as f:
        data = json.load(f)
    new_data = []
    for d in data:
        new_data.append({
            'pk': d['pk'],
            'adult': d['fields']['adult'],
            'overview': d['fields']['overview'],
            'title': d['fields']['title'],
            'poster_path': d['fields']['poster_path'],
            'genres': d['fields']['genres'],
            'vote_average': d['fields']['vote_average'],
        })

    new_data = pd.DataFrame(new_data)

    new_data['overview'].isnull().sum()
    new_data['overview'] = new_data['overview'].fillna('')
    new_data['overview'].isnull().sum() #0 ìœ¼ë¡œ ë°”ë€œ ë‚´ì í•˜ë©´ ëª¨ë‘ 0 ë‚˜ì˜´

    tfidf=TfidfVectorizer(stop_words='english') #ë¶ˆìš©ì–´ ì œê±°
    tfidf_mat=tfidf.fit_transform(new_data['overview']).toarray()

    def cos_sim2(X,Y):
        return np.dot(X,Y)/((norm(X)*norm(Y))+1e-7)

    def top_match_ar2(new_data, name, rank=5,simf=cos_sim2):
        sim=[]
        for i in range(len(new_data)):
            if name != i:
                sim.append((simf(new_data[i],new_data[name]),i))
        sim.sort()
        sim.reverse()
        return sim[:rank]

    
    user = get_object_or_404(get_user_model(),pk = user_pk)
    lst1 = list(user.like_movies.all().values())    # ì¢‹ì•„ìš” ëˆ„ë¥¸ ì˜í™” ë¦¬ìŠ¤íŠ¸
    lst = []    # ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸
    movieList = []

    if len(lst1) >= 3:                      # ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ì˜í™”ê°€ 3ê°œ ì´ìƒì¼ ê²½ìš°
        for elt in lst1:
            lst.append(elt['title'])
    else:                                   # ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ ì˜í™”ê°€ 3ê°œ ë¯¸ë§Œì¼ ê²½ìš°
        lst1.append(list(Movie.objects.all().values),3 )
        for elt in lst1:
            lst.append(elt['title'])                        
        
    movieList = random.sample(lst,3)
    recommend_lst = set()
    res_list = []
    for movie_name in movieList:
        # ì—¬ê¸°ì— ì˜í™” ì´ë¦„ ë™ì ìœ¼ë¡œ í• ë‹¹
        movie_idx = list(new_data['title']).index(movie_name)
        for sim, movie_id in top_match_ar2(tfidf_mat, movie_idx ,20):
            res_list.append(str({'id': new_data.loc[movie_id,'pk'], 'title' :new_data.loc[movie_id,'title'], 'poster_path' :new_data.loc[movie_id,'poster_path'], 'vote_average' :new_data.loc[movie_id,'vote_average']}))
        for res in res_list[:30]:
            recommend_lst.add(res)
    result = []
    for i in recommend_lst:
        i = eval(i)
        result.append(i)
    return Response(result)
```

</div>
</details>

<br>

<details>
<summary>ìœ ì € ì‹ ê·œë¦¬ë·° ì‘ì„± & ê¸°ì¡´ ë¦¬ë·° ìˆ˜ì •, ì‚­ì œ ë¡œì§</summary>
<div markdown="1">

```javascript
<form @submit.prevent="createReview">
  <div class="star-box d-flex align-items-center justify-content-center mb-3">
    <!-- ìœ ì € ë¦¬ë·°ê°€ ìˆë‹¤ë©´ -->
    <div v-if="userReview">
      <b-form-rating
        id="rating-lg-no-border rating-inline"
        @change="onRate"
        :value="userReview?.[0]?.rank"
        icon-half="star-half"
        variant="danger"
        no-border inline show-value show-clear
        precision="1"
        class="star text-light w-100"
        size="lg"
        color="#ffd21e"
      ></b-form-rating>
    </div>
    <!-- ìœ ì € ë¦¬ë·°ê°€ ì—†ë‹¤ë©´ -->
    <div v-else>
      <b-form-rating
        id="rating-lg-no-border rating-inline"
        @change="onRate"
        v-model="reviewRating"
        icon-half="star-half"
        variant="danger"
        no-border inline show-value show-clear
        precision="1"
        class="star text-light w-100"
        size="lg"
        color="#ffd21e"
      ></b-form-rating>
    </div>
  </div>

  <!-- ìˆ˜ì •ì¤‘ X & ë¦¬ë·° ìˆë‹¤ë©´ ë‚´ìš© + ìˆ˜ì • + ì‚­ì œ ë²„íŠ¼ ë³´ì—¬ì£¼ê¸° -->
  <div v-if="(!isEditing && userReview && userReview?.length > 0)" class="text-center">
    <p class="fs-3">{{ userReview?.[0]?.title }}</p>
    <p style="color: #999;">{{ userReview?.[0]?.content }}</p>
    <div>
      <!-- ìˆ˜ì • -->
      <button @click="onEdit" 
        class="btn btn-primary review-submit-btn me-2"
      >
        <i class="fa-solid fa-pen-to-square"></i>
      </button>
      <!-- ì‚­ì œ -->
      <button @click.prevent="deleteReview" 
        type="submit" 
        class="btn review-submit-btn"
        style="color: #999;"
      >
      <i class="fa-solid fa-trash-can" style="cursor: pointer"></i>
      </button>
    </div>
  </div>

  <!-- ìˆ˜ì •ì¤‘ OR ë¦¬ë·° ì—†ë‹¤ë©´ ë¦¬ë·° form -->
  <div v-else class="w-75 my-0 mx-auto">
    <!-- ë¦¬ë·° ìˆë‹¤ë©´ UPDATE -->
    <div v-if="isEditing && userReview && userReview?.length > 0">
      <div class="mb-3 review-input text-center" @change="onRate" >
        <label for="reviewTitle" class="form-label">ì œëª©</label>
        <input 
          :value="reviewTitle" 
          class="" id="reviewTitle" rows="3" 
          placeholder="2ì ì´ìƒ ë‚¨ê²¨ì£¼ì„¸ìš”." 
        >
      </div>
      <div class="mb-3 review-input" @change="onRate" >
        <label for="reviewContent" class="form-label">ë‚´ìš©</label>
        <textarea v-model="reviewContent" class="" id="reviewContent" rows="3" placeholder="2ì ì´ìƒ ë‚¨ê²¨ì£¼ì„¸ìš”."></textarea>
      </div>
      <div class="d-flex justify-content-end">
        <!-- ìˆ˜ì • ì™„ë£Œ -->
        <button @click.prevent="updateReview" type="submit" class="btn btn-primary review-submit-btn me-2"> 
          <!-- ì €ì¥  -->
          <i class="fa-solid fa-floppy-disk"></i></button>
        <!-- ìˆ˜ì • ì·¨ì†Œ -->
        <button type="button" @click="onEdit" class="btn btn-dark text-light">
          <!-- ì·¨ì†Œ -->
          <i class="fa-solid fa-xmark"></i></button>
      </div>
    </div>
    <!-- ë¦¬ë·° ì—†ë‹¤ë©´ CREATE -->
    <div v-else class="-flex flex-column justify-content-end align-items-center">            
      <div class="mb-3 review-input text-center" @change="onRate">
        <label for="reviewTitle" class="form-label fs-4">ì œëª©</label>
        <input v-model="reviewTitle" class="" id="reviewTitle" rows="3" placeholder="2ì ì´ìƒ ë‚¨ê²¨ì£¼ì„¸ìš”.">
      </div>
      <div class="mb-3 review-input text-center" @change="onRate">
        <label for="reviewContent" class="form-label fs-5">ë‚´ìš©</label>
        <div class="d-block w-100"><textarea v-model="reviewContent" id="reviewContent" rows="3" placeholder="2ì ì´ìƒ ë‚¨ê²¨ì£¼ì„¸ìš”.">{{}}</textarea></div>
      </div>
      <div class="d-flex justify-content-end">
        <!-- ë³„ì  & ë¦¬ë·° ì €ì¥ -->
        <button @click.prevent="createReview" type="submit" class="btn btn-primary review-submit-btn"><i class="fa-solid fa-floppy-disk"></i></button>
      </div>
    </div>
  </div>
  <!-- <div class="mb-3 form-check review-check">
    <input type="checkbox" class="form-check-input" id="private">
    <label class="form-check-label me-2" for="private">ë¹„ë°€ê¸€</label>
    <span id="emailHelp" class="form-text text-muted">ë‚˜ë§Œ ë³¼ ìˆ˜ ìˆì–´ìš”.</span>
  </div> -->
</form>
```

</div>
</details>



## 7. ê°œë°œ ì´ìŠˆ ë° íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
- ë§¤ì¼ ë§¤ì¼ ê°œë°œ ì¼ì§€ë¥¼ ì‘ì„±í•˜ë©° ì´ìŠˆì— ëŒ€í•œ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ë„ í•¨ê»˜ ê¸°ë¡í•˜ì˜€ìŠµë‹ˆë‹¤.
<details>
<summary>íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì˜ˆì‹œ</summary>
<div markdown="1">

![image](https://user-images.githubusercontent.com/100753588/205089044-dc0ff68f-78b0-46ae-8cfb-676223f907e1.png)

</div>
</details>


![image](https://user-images.githubusercontent.com/100753588/205088816-9b5347e8-8f48-4b45-aaf6-35d1bbfd6fcd.png)



## 8. í”„ë¡œì íŠ¸ë¥¼ ë§ˆì¹˜ë©°
### ê¹€ê²½ë¦¼
**ë°°ìš´ ì **
1. ì•±ì˜ ëª¨ë“  ê¸°ëŠ¥, ë””ìì¸, ì»´í¬ë„ŒíŠ¸ í•˜ë‚˜í•˜ë‚˜ ì§ì ‘ ë‹´ë‹¹í•˜ì—¬ ì„¤ê³„í•˜ê³  êµ¬í˜„í•´ë³´ê²Œ ë˜ì–´ ë¿Œë“¯í–ˆë‹¤.
2. í”„ë¡ íŠ¸ì—”ë“œ, ë°±ì—”ë“œë¥¼ í•¨ê»˜ ê¸°íší•˜ê³  êµ¬í˜„í•˜ëŠ” ê²½í—˜ì€ ì•ìœ¼ë¡œë„ í•´ë³´ê¸° ì‰½ì§€ ì•Šì„ ì†Œì¤‘í•œ ê²½í—˜ì¸ ê²ƒ ê°™ë‹¤.
3. í˜‘ì—…ì‹œì—ëŠ” ì„œë¡œ ê¸°ë³¸ ìš©ì–´ì— ëŒ€í•´ ë™ì¼í•˜ê²Œ ì •ì˜í•˜ê³  ìƒê°í•˜ê³  ìˆëŠ”ì§€ë¶€í„° ì ê²€í•´ì•¼ ì†Œí†µì´ ë³´ë‹¤ ì‰¬ì›Œì§„ë‹¤ëŠ” ê²ƒì„ ì¬í™•ì¸í•˜ì˜€ë‹¤. (ì•Œê³ ë³´ë©´ ì„œë¡œ ê°™ì€ ì´ì•¼ê¸°ë¥¼ í•˜ê³  ìˆëŠ” ê²½ìš°ê°€ ë§ë‹¤!)
4. SCSS, Vuex ë“± ì¶”ê°€ì ìœ¼ë¡œ ë„ì…ì´ í•„ìš”í•œ ë¶€ë¶„ì— ëŒ€í•´ ê³ ë¯¼í•´ë³´ê³  ë‹¹ìœ„ì„±ì„ ë”°ì ¸ë³¼ ìˆ˜ ìˆì—ˆë‹¤.
5. ëª¨ë“ˆí™”ì˜ ì¤‘ìš”ì„±ê³¼ í˜ì´ì§€ë‚˜ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ë¥¼ ì •í™•íˆ ìƒê°í•˜ê³  ì§œëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ë°°ì› ë‹¤. ì˜ˆìƒì¹˜ ëª»í•˜ê²Œ êµ¬ì¡°ì— ë³€ê²½ì´ í•„ìš”í•  ë•Œ í–ˆë˜ ì¼ì„ ë‹¤ì‹œ í•˜ëŠ” ì‹œê°„ê³¼ ë¹ˆë„ê°€ í˜„ì €í•˜ê²Œ ì¤„ê¸° ë•Œë¬¸ì´ë‹¤.

**ì•„ì‰¬ìš´ ì **
- í”„ë¡œì íŠ¸ ê¸°ê°„ì´ ë„ˆë¬´ ì§§ì•„ git flow, github flow ë“± ë¸Œëœì¹˜ ì „ëµ ë° githubì˜ ì´ìŠˆ ë“± ê¸°ë³¸ ê¸°ëŠ¥ë“¤ì„ í™œìš©í•˜ì§€ ëª»í•œì ì´ ì•„ì‰½ë‹¤.
- ìµœì í™”ë¥¼ ì–´ë–»ê²Œ ë” í• ìˆ˜ ìˆì„ì§€ ì•Œê³ ì‹¶ë‹¤.
Vuexë¡œ ì¤‘ì•™ ì €ì¥ì†Œì—ì„œ ë°ì´í„° ê´€ë¦¬ë¥¼ ì ì ˆí•˜ê²Œ í•œ ê²ƒì¸ì§€, ë¶ˆí•„ìš”í•˜ê²Œ ì¬ë Œë”ë§ì´ ë°œìƒí•œ ë¶€ë¶„ì´ ìˆëŠ”ì§€, ìˆë‹¤ë©´ ì–´ë–»ê²Œ ë” ì¤„ì—¬ì•¼ í• ì§€ ì•Œê³  ì‹¶ë‹¤.
- DB ì„¤ê³„ì‹œ í•„ë“œëª…ì˜ ì¤‘ìš”ì„±
í”„ë¡ íŠ¸ë‹¨ì—ì„œ í•´ë‹¹ ë°ì´í„°ì˜ keyë¡œ ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì—, ì´ í•„ë“œëª…ì´ ë‹¤ë¥´ë©´ ê°™ì€ êµ¬ì¡°ì—¬ë„ ê°™ì€ ì»´í¬ë„ŒíŠ¸ë¡œì„œ ì¬í™œìš©í•  ìˆ˜ê°€ ì—†ì—ˆë‹¤.  (í”„ë¡œí•„ í˜ì´ì§€ êµ¬í˜„ì‹œ)
